var L=Object.defineProperty;var R=(d,n,a)=>n in d?L(d,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):d[n]=a;var h=(d,n,a)=>R(d,typeof n!="symbol"?n+"":n,a);import{f as k,r as f,i as D,j as S,c as P,o as C,a as x,_ as A,b as T}from"./2cLet2fW.js";const j=k({name:"CanvasParticle",__name:"CanvasParticle",setup(d){const n=f(null),a=f(null),l=f(null),i=f([]),o=f(0),r=f(0),m=f(0);class b{constructor(){h(this,"x");h(this,"y");h(this,"size");h(this,"speedX");h(this,"speedY");h(this,"color");this.x=o.value,this.y=r.value,this.size=Math.random()*5+1,this.speedX=Math.random()*5-1.5,this.speedY=Math.random()*5-1.5,this.color=`hsl(${m.value}, 100%, 50%)`}update(){this.x+=this.speedX,this.y+=this.speedY,this.size>.2&&(this.size-=.1)}draw(){l.value&&w(l.value,this.x,this.y,this.size,this.color)}}const w=(e,t,s,u,v)=>{e.fillStyle=v,e.beginPath(),e.arc(t,s,u,0,Math.PI*2),e.fill()},M=(e,t,s,u,v,_)=>{e.beginPath(),e.strokeStyle=_,e.lineWidth=.2,e.moveTo(t,s),e.lineTo(u,v),e.stroke(),e.closePath()},p=()=>{a.value&&n.value&&(a.value.width=n.value.clientWidth,a.value.height=n.value.clientHeight,l.value=a.value.getContext("2d"),l.value)},c=e=>{i.value.length<200&&(i.value=[...i.value,...Array.from({length:e},()=>new b)])},z=()=>{a.value&&a.value.addEventListener("pointermove",e=>{const t=a.value.getBoundingClientRect();o.value=e.clientX-t.left,r.value=e.clientY-t.top,c(5)})},E=e=>{if(!a.value)return;const t=a.value.getBoundingClientRect();o.value=e.clientX-t.left,r.value=e.clientY-t.top,c(10)},X=e=>{if(!a.value)return;const t=a.value.getBoundingClientRect();o.value=e.clientX-t.left,r.value=e.clientY-t.top,c(10)},Y=e=>{if(!a.value)return;const t=10;e.key==="Enter"||e.key===" "?(e.preventDefault(),c(10)):e.key==="ArrowUp"?(r.value=Math.max(0,r.value-t),c(5)):e.key==="ArrowDown"?(r.value=Math.min(a.value.height,r.value+t),c(5)):e.key==="ArrowLeft"?(o.value=Math.max(0,o.value-t),c(5)):e.key==="ArrowRight"&&(o.value=Math.min(a.value.width,o.value+t),c(5))},B=()=>{!l.value||!a.value||(l.value.clearRect(0,0,a.value.width,a.value.height),i.value=i.value.filter((e,t)=>{e.update(),e.draw();for(let s=t;s<i.value.length;s++){const u=e.x-i.value[s].x,v=e.y-i.value[s].y;Math.sqrt(u*u+v*v)<100&&l.value&&M(l.value,e.x,e.y,i.value[s].x,i.value[s].y,e.color)}return e.size>.3}),g(l.value,"Canvas Particle",a.value.width/2,50,"white","bold 28px Arial"),g(l.value,"Click and press Enter/Space to add particles",a.value.width/2,100,"white","bold 16px Arial"),a.value.contains(document.activeElement)&&w(l.value,o.value,r.value,5,"rgba(255, 255, 255, 0.5)"),m.value+=2)},y=()=>{B(),requestAnimationFrame(y)},g=(e,t,s,u,v,_="20px Arial",I="center")=>{e.fillStyle=v,e.font=_,e.textAlign=I,e.fillText(t,s,u)};return D(()=>{p(),window.addEventListener("resize",p),z(),y()}),S(()=>{window.removeEventListener("resize",p)}),(e,t)=>(C(),P("div",{ref_key:"wrap",ref:n,class:"canvas-wrap"},[x("canvas",{ref_key:"canvas",ref:a,class:"canvas-el",role:"button",tabindex:"0","aria-label":"Interactive canvas for adding particles with mouse or keyboard",onClick:E,onPointerdown:X,onKeydown:Y},null,544)],512))}}),q=A(j,[["__scopeId","data-v-50117a45"]]),K={class:"main__canvas-vanilla"},N={class:"container"},U=k({name:"CanvasParticleInteractive",__name:"canvas-particle-interactive",setup(d){return(n,a)=>{const l=q;return C(),P("main",K,[x("div",N,[T(l)])])}}}),$=A(U,[["__scopeId","data-v-ccccc93a"]]);export{$ as default};
