import{r as a,z as p,q as b,A as g,c as l,a as o,B as f,b as w,w as x,C as S,D as W,v,E as C,F as M,x as N,e as V,o as r,d as y,t as B}from"./6uTe5RLj.js";function D(h){const e=a(null),t=a(!1),n=a([]),c=a(null),_=()=>{e.value=new WebSocket(h),e.value.onopen=()=>{t.value=!0,console.log("âœ… WebSocket connected")},e.value.onmessage=s=>{n.value=[...n.value,s.data]},e.value.onerror=s=>{c.value=s,console.error("âŒ WebSocket error",s)},e.value.onclose=()=>{t.value=!1,console.log("ðŸ”Œ WebSocket disconnected")}},u=s=>{e.value&&t.value&&e.value.send(s)},i=()=>{var s;(s=e.value)==null||s.close()};return p(()=>{i()}),{connect:_,sendMessage:u,disconnect:i,messages:n,isConnected:t,error:c}}const E={class:"main-websoÑket"},T={class:"websocket-hero"},F={class:"container-1440"},L={class:"hero__wrapper"},U={class:"hero__title"},q={class:"hero__actions"},z={class:"hero__messages"},A=o("h2",null,"Messages:",-1),P={class:"messages__list"},R={key:0,class:"hero__error"},j=b({name:"PageWebsocket",__name:"websocket",setup(h){const e=a(""),{connect:t,sendMessage:n,messages:c,error:_}=D("wss://echo.websocket.events");g(()=>{t()});const u=()=>{e.value.trim()&&(n(e.value),e.value="")};return(i,s)=>{const m=V;return r(),l("main",E,[o("section",T,[o("div",F,[o("div",L,[o("h1",U,[w(m,{to:"https://websocket.org/tools/websocket-echo-server/",external:"",target:"_blank"},{default:x(()=>[y(" WebSocket Echo ")]),_:1})]),o("div",q,[S(o("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>C(e)?e.value=d:null),placeholder:"Type a message",class:"hero__input"},null,512),[[W,v(e)]]),o("button",{class:"hero__btn",onClick:u},"Send")]),o("div",z,[A,o("ul",P,[(r(!0),l(M,null,N(v(c),(d,k)=>(r(),l("li",{key:`meassage-${k}`},B(d),1))),128))])]),v(_)?(r(),l("div",R,"WebSocket error!")):f("",!0)])])])])}}});export{j as default};
