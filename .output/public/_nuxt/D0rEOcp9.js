import{l as x,m as k,_ as w,n as C,o as L,q as M}from"./hMrvtFR3.js";import{d as y,aH as b,r as n,c as f,b as c,u as d,k as D,e as o,al as l,t as P,w as m,g as S,f as B,V as N,a6 as V,aI as I}from"./D3POZM50.js";import{_ as j}from"./B8AQky74.js";import"./BVGlmBCM.js";const $=["object"],A=.01,E=y({name:"ModelThreeD",__name:"ModelThreeD",props:{modelPath:{},draco:{type:Boolean,default:!0}},async setup(h,{expose:a}){let s,r;const p=h,{modelPath:u,draco:i}=p;a({startRotation:()=>{t.value=!0},stopRotation:()=>{t.value=!1}});const{scene:e}=([s,r]=b(()=>k(u,{draco:i})),s=await s,r(),s),t=n(!0);return x().onLoop(()=>{e&&t.value&&(e.rotation.y+=A)}),(v,g)=>(c(),f("primitive",{object:d(e)},null,8,$))}}),F=L(I),q={class:"car-viewer"},G={key:0,class:"loading-overlay"},H={class:"controls"},J={class:"controls__title"},O={ref:"camera",position:[8,4,8],fov:45,"look-at":[0,0,0]},z=["rotation"],K=y({__name:"ThreeDCar",setup(h){const a=n(),s=n(!1),r=()=>{s.value=!0},p=()=>{var e;s.value&&typeof((e=a.value)==null?void 0:e.startRotation)=="function"&&a.value.startRotation()},u=()=>{var e;s.value&&typeof((e=a.value)==null?void 0:e.stopRotation)=="function"&&a.value.stopRotation()},i=n(!1),_=n(0);return(async()=>{const{hasFinishLoading:e,progress:t}=await M();V(()=>{_.value=t.value,i.value=e.value})})(),(e,t)=>{const v=w,g=E,T=F;return c(),f("div",q,[d(i)?D("",!0):(c(),f("div",G," Loading... "+P(Math.round(d(_)))+"% ",1)),o("div",H,[o("div",null,[o("button",{onClick:p},"Start Rotation"),o("button",{onClick:u},"Stop Rotation")]),o("h1",J,[l(v,{to:"https://docs.tresjs.org/",external:"",target:"_blank"},{default:m(()=>t[0]||(t[0]=[S(" TresJS create awesome 3D ",-1)])),_:1,__:[0]})])]),l(T,{"clear-color":"#161313",shadows:"",alpha:""},{default:m(()=>[o("TresPerspectiveCamera",O,null,512),t[2]||(t[2]=o("TresAmbientLight",{intensity:.4},null,-1)),t[3]||(t[3]=o("TresDirectionalLight",{position:[10,10,5],intensity:1,"cast-shadow":""},null,-1)),t[4]||(t[4]=o("TresDirectionalLight",{position:[-10,5,-5],intensity:.5},null,-1)),l(d(C),{"enable-damping":!0,"damping-factor":.05,"max-distance":20,"min-distance":3,"max-polar-angle":Math.PI/2},null,8,["max-polar-angle"]),(c(),B(N,{onResolve:r},{default:m(()=>[l(g,{ref_key:"modelRef",ref:a,"model-path":"/models/retro-futuristic-car.glb"},null,512)]),_:1})),t[5]||(t[5]=o("TresDirectionalLight",{position:[-4,8,4],intensity:1.5,"cast-shadow":""},null,-1)),o("TresMesh",{position:[0,-.5,0],rotation:[-Math.PI/2,0,0]},t[1]||(t[1]=[o("TresPlaneGeometry",{args:[10,10]},null,-1),o("TresMeshLambertMaterial",{color:"#2684ff"},null,-1)]),8,z)]),_:1,__:[2,3,4,5]})])}}}),Y=j(K,[["__scopeId","data-v-a0704877"]]);export{Y as default};
